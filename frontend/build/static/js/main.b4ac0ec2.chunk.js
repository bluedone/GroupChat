(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{215:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),s=a(12),c=a.n(s),o=a(72),i=a(14),l=a(11),u=a.n(l),p=a(21),d=a(7),j=a(19),b=a.n(j),m=a(135),O=a.n(m),h=a(255),g=a(251),_=a.p+"static/media/gc-logo-symbol-nobg.b927fc8a.png",x=a(58),f=a.n(x),v=function(e){return Object(n.jsx)("div",{className:f.a.container,onClick:e.onClick,children:Object(n.jsxs)("div",{className:f.a.wrapper,children:[Object(n.jsx)("img",{className:f.a.logo,alt:"logo",src:_}),Object(n.jsx)("h1",{className:f.a.title,children:"Hello World!"}),Object(n.jsx)("p",{className:f.a.description,children:"I really appreciate that you take time to have a look to my work. This app is an instant messaging project that offer the possibility to create and join channels and start a conversation."}),Object(n.jsxs)("ul",{className:f.a.list,children:[Object(n.jsx)("li",{children:'\u2b50\ufe0f Use the "menu" icon on top (Mobile).'}),Object(n.jsx)("li",{children:"\u2b50\ufe0f Click on any channel you want to join."}),Object(n.jsx)("li",{children:'\u2b50\ufe0f Create a channel with the "+" icon.'}),Object(n.jsx)("li",{children:"\u2b50\ufe0f Send messages with the text input."}),Object(n.jsx)("li",{children:"\u2b50\ufe0f Browse channels with the search input."}),Object(n.jsx)("li",{children:'\u2b50\ufe0f Report a bug with the "bug" icon.'}),Object(n.jsx)("li",{children:"\u2b50\ufe0f Click on your profile to edit."}),Object(n.jsx)("li",{children:'\u2b50\ufe0f Use the "exit" icon to logout.'})]})]})})},y=a(244),k=a(35),C=a.n(k),N=function(e){return Object(n.jsxs)("div",{className:C.a.messageContainer,children:[Object(n.jsx)("img",{className:C.a.image,alt:"User",src:e.image}),Object(n.jsxs)("div",{className:C.a.textBox,children:[Object(n.jsxs)("p",{className:C.a.username,children:[e.username," ",Object(n.jsx)("span",{className:C.a.date,children:e.date})]}),Object(n.jsx)("p",{className:C.a.message,children:e.text})]})]})},w=function(e){return Object(r.useEffect)((function(){var e=document.getElementById("chat");e&&(e.scrollTop=e.scrollHeight)})),Object(n.jsx)("div",{id:"chat",className:C.a.container,onClick:e.onClick,children:e.loading?Object(n.jsx)("div",{className:C.a.loading,children:Object(n.jsx)(y.a,{})}):Object(n.jsx)("div",{className:C.a.wrapper,children:e.messages.map((function(e){return Object(n.jsx)(N,{_id:e._id,username:e.username,text:e.text,image:e.image,date:e.date},e._id)}))})})},S=a(256),R=a(252),E=a(139),G=a.n(E),A=a(76),T=a.n(A),D=function(e){var t=Object(r.useState)(""),a=Object(d.a)(t,2),s=a[0],c=a[1];return Object(n.jsxs)("div",{className:T.a.container,onClick:e.onClick,children:[Object(n.jsx)(S.a,{className:T.a.input,multiline:!0,placeholder:"Write here...",value:s,onChange:function(e){return c(e.target.value)}}),Object(n.jsx)(R.a,{className:T.a.iconButton,onClick:function(){e.sendClick(s,function(){var e=new Date,t=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],a=String(e.getDate()).padStart(2,"0");return"".concat(t+" "+a+","," - ").concat((new Date).getHours(),":").concat((new Date).getMinutes())}()),c("")},children:Object(n.jsx)(G.a,{className:T.a.send})})]})},B=a(140),L=a.n(B),U=a(69),I=a.n(U),P=function(e){return Object(n.jsx)("div",{className:I.a.container,children:Object(n.jsxs)("div",{className:I.a.wrapper,children:[Object(n.jsx)(R.a,{className:I.a.iconButton,onClick:e.menuClick,children:Object(n.jsx)(L.a,{className:I.a.menu,fontSize:"large"})}),Object(n.jsx)("h2",{className:I.a.title,children:e.title})]})})},H=a(142),M=a.n(H),F=a(141),Y=a.n(F),J=a(36),z=a.n(J),X=function(e){return Object(n.jsx)("div",{className:z.a.container,children:e.inChannel?Object(n.jsxs)("div",{className:z.a.wrapperInChannel,children:[Object(n.jsx)(R.a,{className:z.a.arrowButton,onClick:e.arrowClick,children:Object(n.jsx)(Y.a,{className:z.a.arrow})}),Object(n.jsx)("h2",{className:z.a.title,children:"All channels"})]}):Object(n.jsxs)("div",{className:z.a.wrapperOutChannel,children:[Object(n.jsx)("h2",{className:z.a.title,children:"Channels"}),Object(n.jsx)(R.a,{className:z.a.addButton,onClick:e.plusClick,children:Object(n.jsx)(M.a,{className:z.a.add})})]})})},Z=a(144),V=a.n(Z),W=a(143),Q=a.n(W),q=a(30),K=a.n(q),$=function(e){var t=Object(i.c)((function(e){return e.auth})),a=t.username,r=t.image;return Object(n.jsx)("div",{className:K.a.container,children:Object(n.jsxs)("div",{className:K.a.wrapper,children:[Object(n.jsxs)("div",{className:K.a.userBox,children:[Object(n.jsx)("img",{className:K.a.image,alt:"User",src:r,onClick:e.profileClick}),Object(n.jsx)("p",{className:K.a.username,children:a})]}),Object(n.jsxs)("div",{className:K.a.buttonContainer,children:[Object(n.jsx)(R.a,{className:K.a.exitButton,onClick:e.bugClick,children:Object(n.jsx)(Q.a,{className:K.a.exit})}),Object(n.jsx)(R.a,{className:K.a.exitButton,onClick:e.exitClick,children:Object(n.jsx)(V.a,{className:K.a.exit})})]})]})})},ee=a(145),te=a.n(ee),ae=a(77),ne=a.n(ae),re=function(e){var t=Object(r.useState)(""),a=Object(d.a)(t,2),s=a[0],c=a[1];return Object(n.jsxs)("div",{className:ne.a.container,children:[Object(n.jsx)(R.a,{className:ne.a.iconButton,children:Object(n.jsx)(te.a,{className:ne.a.search})}),Object(n.jsx)(S.a,{className:ne.a.input,placeholder:"Search...",onChange:function(t){return function(t){c(t.target.value);var a=e.groups.filter((function(e){return e.title.toLowerCase().includes(t.target.value.toLowerCase())}));e.update(a)}(t)},value:s})]})},se=a(70),ce=a.n(se),oe=function(e){return Object(n.jsxs)("div",{className:ce.a.group,onClick:function(){return e.groupClick(e._id)},children:[Object(n.jsx)("span",{className:ce.a.tag,children:e.tag}),Object(n.jsx)("p",{className:ce.a.title,children:e.title})]})},ie=function(e){return Object(n.jsx)("div",{className:ce.a.container,children:Object(n.jsx)("div",{className:ce.a.wrapper,children:e.groups.map((function(t){return Object(n.jsx)(oe,{_id:t._id,title:t.title,tag:"".concat(t.title[0]).concat(t.title[1]).toUpperCase(),groupClick:function(t){return e.groupClick(t)}},t._id)}))})})},le=a(78),ue=a.n(le),pe=function(e){var t,a;return Object(n.jsx)("div",{className:ue.a.container,children:Object(n.jsxs)("div",{className:ue.a.wrapper,children:[Object(n.jsx)("p",{className:ue.a.title,children:null===(t=e.currentGroup)||void 0===t?void 0:t.title}),Object(n.jsx)("p",{className:ue.a.description,children:null===(a=e.currentGroup)||void 0===a?void 0:a.description})]})})},de=a(46),je=a.n(de),be=function(e){return Object(n.jsxs)("div",{className:je.a.member,children:[Object(n.jsx)("img",{className:je.a.image,alt:"User",src:e.image}),Object(n.jsx)("p",{className:je.a.username,children:e.username})]})},me=function(e){return Object(n.jsxs)("div",{className:je.a.container,children:[Object(n.jsx)("p",{className:je.a.title,children:"Members"}),e.loading?Object(n.jsx)("div",{className:je.a.loading,children:Object(n.jsx)(y.a,{})}):Object(n.jsx)("div",{className:je.a.wrapper,children:e.members.map((function(e){return Object(n.jsx)(be,{_id:null===e||void 0===e?void 0:e._id,username:null===e||void 0===e?void 0:e.username,image:null===e||void 0===e?void 0:e.image},null===e||void 0===e?void 0:e._id)}))})]})},Oe=a(250),he=a(147),ge=a(248),_e=a(90),xe=a.n(_e),fe=function(e){return e.isPurple?Object(n.jsx)("button",{onClick:e.onClick,className:e.small?xe.a.smallPurple:xe.a.purple,children:e.title}):Object(n.jsx)("button",{onClick:e.onClick,className:xe.a.black,children:e.title})},ve=a(59),ye=a.n(ve),ke=Object(he.a)({palette:{type:"dark"}}),Ce=function(e){var t=Object(i.b)(),a=Object(r.useState)(!0),s=Object(d.a)(a,2),c=s[0],o=s[1],l=Object(r.useState)(""),u=Object(d.a)(l,2),p=u[0],j=u[1],b=Object(r.useState)(!1),m=Object(d.a)(b,2),O=m[0],h=m[1],g=Object(r.useState)(""),_=Object(d.a)(g,2),x=_[0],f=_[1],v=Object(r.useState)(""),y=Object(d.a)(v,2),k=y[0],C=y[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:ye.a.backdrop,onClick:function(){return t({type:"MODAL",payload:{modal:null}})}}),Object(n.jsxs)("div",{className:ye.a.modal,children:[Object(n.jsx)("h2",{children:e.title}),Object(n.jsx)(ge.a,{theme:ke,children:Object(n.jsxs)("form",{className:ye.a.form,onSubmit:function(e){return e.preventDefault()},children:[Object(n.jsx)(Oe.a,{className:ye.a.input,id:"title",label:"Title",variant:"outlined",onChange:function(e){return function(e){e.target.value.length<=1?(h(!0),f("Title should contain at least 2 characters.")):(h(!1),f(""),o(!0)),j(e.target.value)}(e)},helperText:x,error:O,value:p}),Object(n.jsx)(Oe.a,{className:ye.a.input,id:"description",rows:3,label:"Description",variant:"outlined",multiline:!0,value:k,onChange:function(e){return C(e.target.value)}}),Object(n.jsx)(fe,{onClick:function(){return function(t,a){O?o(!1):e.onCreate(t,a)}(p,k)},isPurple:!0,title:"Create",small:!0}),!c&&Object(n.jsx)("p",{className:ye.a.error,children:"Invalid entries."})]})})]})]})},Ne=a(146),we=a.n(Ne),Se=a(47),Re=a.n(Se),Ee=Object(he.a)({palette:{type:"dark"}}),Ge=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.auth})),s=a.username,c=a.image,o=Object(r.useRef)(null),l=Object(r.useState)(!0),j=Object(d.a)(l,2),m=j[0],O=j[1],h=Object(r.useState)(s),g=Object(d.a)(h,2),_=g[0],x=g[1],f=Object(r.useState)(!1),v=Object(d.a)(f,2),y=v[0],k=v[1],C=Object(r.useState)(""),N=Object(d.a)(C,2),w=N[0],S=N[1],R=Object(r.useState)(c),E=Object(d.a)(R,2),G=E[0],A=E[1],T=function(){var e=Object(p.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,b.a.post("https://api.cloudinary.com/v1_1/djghq5xmi/image/upload",t);case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("ERROR",e.t0);case 10:if(a){e.next=12;break}return e.abrupt("return");case 12:A(a.data.url);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:Re.a.backdrop,onClick:function(){return t({type:"MODAL",payload:{modal:null}})}}),Object(n.jsxs)("div",{className:Re.a.modal,children:[Object(n.jsx)("h2",{children:"Profile"}),Object(n.jsx)(ge.a,{theme:Ee,children:Object(n.jsxs)("form",{className:Re.a.form,onSubmit:function(e){return e.preventDefault()},children:[Object(n.jsx)("img",{className:Re.a.image,alt:"User",src:G,onClick:function(){null!==o.current&&o.current.click()}}),Object(n.jsx)("input",{className:Re.a.file,type:"file",ref:o,accept:".jpg,.png,.jpeg",onChange:function(e){var t=new FormData;t.append("file",e.target.files[0]),t.append("api_key","467699583817694"),t.append("timestamp",Math.floor(Date.now()/1e3).toString()),t.append("signature",we()("timestamp=".concat(Math.floor(Date.now()/1e3)).concat("lX7wf1sbaFwNfYjrYP08xh9TjQU"))),T(t)}}),Object(n.jsx)(Oe.a,{className:Re.a.input,id:"username",label:"Username",variant:"outlined",onChange:function(e){return function(e){e.target.value.length<=2?(k(!0),S("Title should contain at least 3 characters.")):(k(!1),S(""),O(!0)),x(e.target.value)}(e)},helperText:w,error:y,value:_}),Object(n.jsx)(fe,{onClick:function(){return function(t,a){y?O(!1):e.onEdit(t,a)}(_,G)},isPurple:!0,title:"Edit",small:!0}),!m&&Object(n.jsx)("p",{className:Re.a.error,children:"Invalid entries."})]})})]})]})},Ae=a(48),Te=a.n(Ae),De=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})),a=Object(i.c)((function(e){return e.app})),s=a.inChannel,c=a.currentGroup,o=a.displayedGroups,l=a.messages,j=a.members,m=a.groups,_=a.modal,x=Object(r.useState)(!1),f=Object(d.a)(x,2),y=f[0],k=f[1],C=Object(r.useState)(!1),N=Object(d.a)(C,2),S=N[0],R=N[1],E=Object(r.useState)({open:!1,severity:void 0,message:null}),G=Object(d.a)(E,2),A=G[0],T=G[1],B=Object(r.useState)(null),L=Object(d.a)(B,2),U=L[0],I=L[1];Object(r.useEffect)((function(){var e=O()("https://groupchat-server.herokuapp.com",{transports:["websocket"]});e.emit("new user",t.id),e.on("fetch messages",(function(e){return Z(e)})),e.on("fetch group",z),I(e),z()}),[]),Object(r.useEffect)((function(){U&&(U.emit("join group",t.id,null===c||void 0===c?void 0:c._id),Z())}),[c]);var H,M,F=function(){var a=Object(p.a)(u.a.mark((function a(n,r){var s,c,o,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.token,c=t.id,s){a.next=4;break}return T({open:!0,severity:"error",message:"Guests are not allowed to create groups, please register."}),a.abrupt("return");case 4:return a.prev=4,a.next=7,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/users/verify"),{id:c,token:s});case 7:o=a.sent,a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(4),console.log("[ERROR][AUTH][VERIFY]: ",a.t0),a.abrupt("return");case 14:if(o.data.access){a.next=17;break}return localStorage.removeItem("userData"),a.abrupt("return");case 17:return a.prev=17,a.next=20,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/groups"),{title:n,description:r||"No description."});case 20:i=a.sent,a.next=28;break;case 23:return a.prev=23,a.t1=a.catch(17),console.log("[ERROR][GROUPS][CREATE]: ",a.t1),T({open:!0,severity:"error",message:"An error occured: Could not create group."}),a.abrupt("return");case 28:if(i){a.next=30;break}return a.abrupt("return");case 30:e({type:"MODAL",payload:{modal:null}}),z(),null===U||void 0===U||U.emit("create group",t.id,n),T({open:!0,severity:"success",message:"".concat(n," channel created.")});case 34:case"end":return a.stop()}}),a,null,[[4,10],[17,23]])})));return function(e,t){return a.apply(this,arguments)}}(),Y=function(){var a=Object(p.a)(u.a.mark((function a(n,r){var s,c,o,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.token,c=t.id,s){a.next=4;break}return T({open:!0,severity:"error",message:"Guests are not allowed to edit profile, please register."}),a.abrupt("return");case 4:return a.prev=4,a.next=7,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/users/verify"),{id:c,token:s});case 7:o=a.sent,a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(4),console.log("[ERROR][AUTH][VERIFY]: ",a.t0),a.abrupt("return");case 14:if(o.data.access){a.next=17;break}return localStorage.removeItem("userData"),a.abrupt("return");case 17:return a.prev=17,a.next=20,b.a.put("".concat("https://groupchat-server.herokuapp.com/api","/users/edit"),{id:c,username:n,image:r});case 20:i=a.sent,a.next=28;break;case 23:return a.prev=23,a.t1=a.catch(17),console.log("[ERROR][USERS][EDIT]: ",a.t1),T({open:!0,severity:"error",message:"An error occured: Could not edit profile."}),a.abrupt("return");case 28:if(i){a.next=30;break}return a.abrupt("return");case 30:T({open:!0,severity:"success",message:"Profile updated."}),e({type:"MODAL",payload:{modal:null}}),e({type:"EDIT",payload:{username:i.data.user.username,image:i.data.user.image}});case 33:case"end":return a.stop()}}),a,null,[[4,10],[17,23]])})));return function(e,t){return a.apply(this,arguments)}}(),J=function(){var e=Object(p.a)(u.a.mark((function e(a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/messages"),{gid:null===c||void 0===c?void 0:c._id,text:a,username:t.username,image:t.image,uid:t.id,date:n});case 5:r=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),console.log("[ERROR][GROUPS][CREATE]: ",e.t0),T({open:!0,severity:"error",message:"An error occured: Could not send message."}),e.abrupt("return");case 13:if(r){e.next=15;break}return e.abrupt("return");case 15:null===U||void 0===U||U.emit("message",t.id,null===c||void 0===c?void 0:c._id);case 16:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,a){return e.apply(this,arguments)}}(),z=function(){var t=Object(p.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("".concat("https://groupchat-server.herokuapp.com/api","/groups"));case 3:a=t.sent,t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),console.log("[ERROR][GROUPS][FETCH]: ",t.t0),T({open:!0,severity:"error",message:"An error occured: Could not fetch groups."}),t.abrupt("return");case 11:if(a){t.next=13;break}return t.abrupt("return");case 13:e({type:"FETCH GROUPS",payload:{displayedGroups:a.data.groups,groups:a.data.groups}});case 14:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),Z=function(){var t=Object(p.a)(u.a.mark((function t(){var a,n,r=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.length>0&&void 0!==r[0]?r[0]:null===c||void 0===c?void 0:c._id){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,b.a.get("".concat("https://groupchat-server.herokuapp.com/api","/groups/").concat(a));case 6:n=t.sent,t.next=15;break;case 9:return t.prev=9,t.t0=t.catch(3),console.log("[ERROR][MESSAGES][FETCH]: ",t.t0),T({open:!0,severity:"error",message:"An error occured: Could not fetch messages and members."}),R(!1),t.abrupt("return");case 15:if(R(!1),!n.data.error){t.next=19;break}return T({open:!0,severity:"error",message:"An error occured: Could not fetch messages and members."}),t.abrupt("return");case 19:e({type:"FETCH MESSAGES",payload:{messages:n.data.messages,members:n.data.members}});case 20:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}(),V=function(){var a=Object(p.a)(u.a.mark((function a(n,r){var s,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.id,a.prev=1,a.next=4,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/bugs"),{id:s,title:n,description:r||"No description."});case 4:c=a.sent,a.next=12;break;case 7:return a.prev=7,a.t0=a.catch(1),console.log("[ERROR][BUGS][CREATE]: ",a.t0),T({open:!0,severity:"error",message:"An error occured: Could not report bug."}),a.abrupt("return");case 12:if(c){a.next=14;break}return a.abrupt("return");case 14:e({type:"MODAL",payload:{modal:null}}),T({open:!0,severity:"success",message:"Bug reported, thank you!"});case 16:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e,t){return a.apply(this,arguments)}}();return s?(H=Object(n.jsxs)("div",{className:Te.a.sideContent,children:[Object(n.jsx)(pe,{currentGroup:c}),Object(n.jsx)(me,{members:j,loading:S})]}),M=Object(n.jsxs)("div",{className:Te.a.main,children:[Object(n.jsx)(P,{title:null===c||void 0===c?void 0:c.title,menuClick:function(){return k(!0)}}),Object(n.jsx)(w,{messages:l,onClick:function(){return k(!1)},loading:S}),Object(n.jsx)(D,{sendClick:J,onClick:function(){return k(!1)}})]})):(H=Object(n.jsxs)("div",{className:Te.a.sideContent,children:[Object(n.jsx)(re,{groups:m,update:function(t){return e({type:"SEARCH",payload:{displayedGroups:t}})}}),Object(n.jsx)(ie,{groups:o,groupClick:function(t){return function(t){R(!0);var a=m.filter((function(e){return e._id===t}));a.length>0&&e({type:"CHANGE GROUP",payload:{currentGroup:a[0]}})}(t)}})]}),M=Object(n.jsxs)("div",{className:Te.a.main,children:[Object(n.jsx)(P,{title:"",menuClick:function(){return k(!0)}}),Object(n.jsx)(v,{onClick:function(){return k(!1)}})]})),Object(n.jsxs)("div",{className:Te.a.container,children:[Object(n.jsxs)("div",{className:y?Te.a.mobile:Te.a.side,children:[Object(n.jsx)(X,{inChannel:s,arrowClick:function(){e({type:"EXIT"})},plusClick:function(){e({type:"MODAL",payload:{modal:"create"}}),k(!1)}}),H,Object(n.jsx)($,{exitClick:function(){null===U||void 0===U||U.disconnect(),localStorage.removeItem("userData"),e({type:"LOGOUT"})},profileClick:function(){e({type:"MODAL",payload:{modal:"edit"}}),k(!1)},bugClick:function(){e({type:"MODAL",payload:{modal:"bug"}}),k(!1)}})]}),M,"create"===_&&Object(n.jsx)(Ce,{onCreate:F,title:"New Channel"}),"edit"===_&&Object(n.jsx)(Ge,{onEdit:Y}),"bug"===_&&Object(n.jsx)(Ce,{onCreate:V,title:"Bug Report"}),Object(n.jsx)(h.a,{open:A.open,onClose:function(){return T({open:!1,severity:A.severity,message:null})},autoHideDuration:5e3,children:Object(n.jsx)(g.a,{variant:"filled",onClose:function(){return T({open:!1,severity:A.severity,message:null})},severity:A.severity,children:A.message})})]})},Be=a(10),Le=a(29),Ue=a(17),Ie=a.p+"static/media/cropped.955e0ca1.png",Pe=a(91),He=a.n(Pe),Me=function(e){var t=Object(i.b)(),a=function(){var e=Object(p.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/users/guest"));case 3:a=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log("[ERROR][AUTH][GUEST]: ",e.t0),e.abrupt("return");case 10:if(a.data.access){e.next=12;break}return e.abrupt("return");case 12:t({type:"GUEST",payload:Object(Be.a)({},a.data.user)});case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:He.a.container,children:[Object(n.jsx)("img",{className:He.a.logo,alt:"GroupChat Logo",src:Ie}),Object(n.jsx)(Le.b,{to:"/login",children:Object(n.jsx)(fe,{onClick:function(){},isPurple:!1,title:"Login",small:!1})}),Object(n.jsx)(Le.b,{to:"/signup",children:Object(n.jsx)(fe,{onClick:function(){},isPurple:!0,title:"Signup",small:!1})}),Object(n.jsx)("p",{className:He.a.guest,onClick:a,children:"Continue as guest"})]})},Fe=a(257),Ye=a(253),Je=a(43),ze=a.n(Je),Xe=function(e){var t=Object(i.b)(),a=Object(r.useState)(!0),s=Object(d.a)(a,2),c=s[0],o=s[1],l=Object(r.useState)(!1),j=Object(d.a)(l,2),m=j[0],O=j[1],x=Object(r.useState)(""),f=Object(d.a)(x,2),v=f[0],y=f[1],k=Object(r.useState)(!1),C=Object(d.a)(k,2),N=C[0],w=C[1],S=Object(r.useState)(""),R=Object(d.a)(S,2),E=R[0],G=R[1],A=Object(r.useState)(""),T=Object(d.a)(A,2),D=T[0],B=T[1],L=Object(r.useState)(!1),U=Object(d.a)(L,2),I=U[0],P=U[1],H=Object(r.useState)(""),M=Object(d.a)(H,2),F=M[0],Y=M[1],J=Object(r.useState)({open:!1,message:null}),z=Object(d.a)(J,2),X=z[0],Z=z[1],V=function(){var e=Object(p.a)(u.a.mark((function e(a,n,r){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/users/login"),{checked:a,email:n.toLowerCase(),password:r.toLowerCase()});case 3:s=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log("[ERROR][AUTH][LOGIN]: ",e.t0),e.abrupt("return");case 10:if(s.data.access){e.next=13;break}return Z({open:!0,message:s.data.message}),e.abrupt("return");case 13:a&&localStorage.setItem("userData",JSON.stringify({id:s.data.user.id,token:s.data.user.token})),t({type:"LOGIN",payload:Object(Be.a)({},s.data.user)});case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a,n){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:ze.a.container,children:[Object(n.jsx)(Le.b,{to:"/",children:Object(n.jsx)("img",{className:ze.a.logo,alt:"logo",src:_})}),Object(n.jsxs)("form",{className:ze.a.form,onSubmit:function(e){return e.preventDefault()},children:[Object(n.jsx)(Oe.a,{className:ze.a.input,id:"email",label:"Email",variant:"outlined",type:"text",error:N,value:v,onChange:function(e){return function(e){var t=e.target.value;/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?(w(!1),G(""),o(!0)):(w(!0),G("Please enter a valid email.")),y(t)}(e)},helperText:E}),Object(n.jsx)(Oe.a,{className:ze.a.input,id:"password",label:"Password",variant:"outlined",type:"password",value:D,error:I,onChange:function(e){return function(e){e.target.value.length<6?(P(!0),Y("Passwords should have at least 6 characters.")):(P(!1),Y(""),o(!0)),B(e.target.value)}(e)},helperText:F}),Object(n.jsx)(Fe.a,{className:ze.a.check,control:Object(n.jsx)(Ye.a,{checked:m,onChange:function(){return O((function(e){return!e}))},name:"checked",color:"primary"}),label:"Remember me"}),Object(n.jsx)(fe,{onClick:function(){return function(e,t,a){N||I||0===a.length||0===t.length?o(!1):V(e,t,a)}(m,v,D)},isPurple:!0,title:"Login",small:!1}),!c&&Object(n.jsx)("p",{className:ze.a.error,children:"Invalid entries."})]}),Object(n.jsx)(Le.b,{to:"/signup",children:Object(n.jsx)("p",{className:ze.a.guest,children:"Don't have an account? Sign Up"})}),Object(n.jsx)(h.a,{open:X.open,onClose:function(){return Z({open:!1,message:null})},autoHideDuration:5e3,children:Object(n.jsx)(g.a,{variant:"filled",onClose:function(){return Z({open:!1,message:null})},severity:"error",children:X.message})})]})},Ze=a(37),Ve=a.n(Ze),We=function(e){var t=Object(i.b)(),a=Object(r.useState)(!0),s=Object(d.a)(a,2),c=s[0],o=s[1],l=Object(r.useState)(!1),j=Object(d.a)(l,2),m=j[0],O=j[1],x=Object(r.useState)(""),f=Object(d.a)(x,2),v=f[0],y=f[1],k=Object(r.useState)(!1),C=Object(d.a)(k,2),N=C[0],w=C[1],S=Object(r.useState)(""),R=Object(d.a)(S,2),E=R[0],G=R[1],A=Object(r.useState)(""),T=Object(d.a)(A,2),D=T[0],B=T[1],L=Object(r.useState)(!1),U=Object(d.a)(L,2),I=U[0],P=U[1],H=Object(r.useState)(""),M=Object(d.a)(H,2),F=M[0],Y=M[1],J=Object(r.useState)(""),z=Object(d.a)(J,2),X=z[0],Z=z[1],V=Object(r.useState)(!1),W=Object(d.a)(V,2),Q=W[0],q=W[1],K=Object(r.useState)(""),$=Object(d.a)(K,2),ee=$[0],te=$[1],ae=Object(r.useState)({open:!1,message:null}),ne=Object(d.a)(ae,2),re=ne[0],se=ne[1],ce=function(){var e=Object(p.a)(u.a.mark((function e(a,n,r,s){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/users/signup"),{checked:a,email:n.toLowerCase(),password:r.toLowerCase(),username:s});case 3:c=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log("[ERROR][AUTH][SIGNUP]: ",e.t0),e.abrupt("return");case 10:if(c.data.access){e.next=13;break}return se({open:!0,message:c.data.message}),e.abrupt("return");case 13:a&&localStorage.setItem("userData",JSON.stringify({id:c.data.user.id,token:c.data.user.token})),t({type:"LOGIN",payload:Object(Be.a)({},c.data.user)});case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a,n,r){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:Ve.a.container,children:[Object(n.jsx)(Le.b,{to:"/",children:Object(n.jsx)("img",{className:Ve.a.logo,alt:"logo",src:_})}),Object(n.jsxs)("form",{className:Ve.a.form,onSubmit:function(e){return e.preventDefault()},children:[Object(n.jsx)(Oe.a,{className:Ve.a.input,id:"username",label:"Username",variant:"outlined",error:N,value:v,onChange:function(e){return function(e){e.target.value.length<=0?(w(!0),G("Username can not be empty.")):(w(!1),G(""),o(!0)),y(e.target.value)}(e)},helperText:E}),Object(n.jsx)(Oe.a,{className:Ve.a.input,id:"email",label:"Email",variant:"outlined",error:I,value:D,onChange:function(e){return function(e){var t=e.target.value;/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?(P(!1),Y(""),o(!0)):(P(!0),Y("Please enter a valid email.")),B(t)}(e)},helperText:F}),Object(n.jsx)(Oe.a,{className:Ve.a.input,id:"password",label:"Password",type:"password",variant:"outlined",value:X,error:Q,onChange:function(e){return function(e){e.target.value.length<6?(q(!0),te("Passwords should have at least 6 characters.")):(q(!1),te(""),o(!0)),Z(e.target.value)}(e)},helperText:ee}),Object(n.jsx)(Fe.a,{className:Ve.a.check,control:Object(n.jsx)(Ye.a,{checked:m,onChange:function(){return O((function(e){return!e}))},name:"checkedB",color:"primary"}),label:"Remember me"}),Object(n.jsx)(fe,{onClick:function(){return function(e,t,a,n){I||Q||0===t.length||0===a.length||0===n.length?o(!1):ce(e,t,a,n)}(m,D,X,v)},isPurple:!0,title:"Signup",small:!1}),!c&&Object(n.jsx)("p",{className:Ve.a.error,children:"Invalid entries."})]}),Object(n.jsx)(Le.b,{to:"/login",children:Object(n.jsx)("p",{className:Ve.a.guest,children:"Already a member ? Login"})}),Object(n.jsx)(h.a,{open:re.open,onClose:function(){return se({open:!1,message:null})},autoHideDuration:5e3,children:Object(n.jsx)(g.a,{variant:"filled",onClose:function(){return se({open:!1,message:null})},severity:"error",children:re.message})})]})},Qe=Object(he.a)({palette:{type:"dark"}}),qe=function(e){var t=Object(i.b)();Object(r.useEffect)((function(){var e=localStorage.getItem("userData");if(e){var t=JSON.parse(e);a(t.id,t.token)}}),[]);var a=function(){var e=Object(p.a)(u.a.mark((function e(a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/users/verify"),{id:a,token:n});case 3:r=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log("[ERROR][AUTH][VERIFY]: ",e.t0),e.abrupt("return");case 10:if(r.data.access){e.next=13;break}return localStorage.removeItem("userData"),e.abrupt("return");case 13:t({type:"LOGIN",payload:Object(Be.a)({},r.data.user)});case 14:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.jsx)(ge.a,{theme:Qe,children:Object(n.jsx)(Le.a,{children:Object(n.jsxs)(Ue.d,{children:[Object(n.jsx)(Ue.b,{path:"/login",exact:!0,component:Xe}),Object(n.jsx)(Ue.b,{path:"/signup",exact:!0,component:We}),Object(n.jsx)(Ue.b,{path:"/",exact:!0,component:Me}),Object(n.jsx)(Ue.a,{to:"/"})]})})})},Ke=function(){return Object(i.c)((function(e){return e.auth.isLogged}))?Object(n.jsx)(De,{}):Object(n.jsx)(qe,{})},$e={inChannel:!1,messages:[],members:[],displayedGroups:[],groups:[],currentGroup:null,modal:null},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE GROUP":return Object(Be.a)(Object(Be.a)({},e),{},{currentGroup:t.payload.currentGroup,inChannel:!0});case"SEARCH":return Object(Be.a)(Object(Be.a)({},e),{},{displayedGroups:t.payload.displayedGroups});case"FETCH GROUPS":return Object(Be.a)(Object(Be.a)({},e),{},{displayedGroups:t.payload.displayedGroups,groups:t.payload.groups});case"FETCH MESSAGES":return Object(Be.a)(Object(Be.a)({},e),{},{messages:t.payload.messages,members:t.payload.members});case"MODAL":return Object(Be.a)(Object(Be.a)({},e),{},{modal:t.payload.modal});case"EXIT":return Object(Be.a)(Object(Be.a)({},e),{},{inChannel:!1,currentGroup:null,displayedGroups:e.groups,members:[],messages:[]});default:return e}},tt={isLogged:!1,username:null,image:null,token:null,id:null},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(Be.a)(Object(Be.a)({},e),{},{isLogged:!0,username:t.payload.username,image:t.payload.image,token:t.payload.token,id:t.payload.id});case"LOGOUT":return Object(Be.a)(Object(Be.a)({},e),{},{isLogged:!1,username:null,image:null,token:null,id:null});case"GUEST":return Object(Be.a)(Object(Be.a)({},e),{},{isLogged:!0,username:t.payload.username,image:t.payload.image,token:null,id:t.payload.id});case"EDIT":return Object(Be.a)(Object(Be.a)({},e),{},{isLogged:!0,username:t.payload.username,image:t.payload.image});default:return e}},nt=(a(215),Object(o.b)({auth:at,app:et})),rt=Object(o.c)(nt);c.a.render(Object(n.jsx)(i.a,{store:rt,children:Object(n.jsx)(Ke,{})}),document.getElementById("root"))},30:function(e,t,a){e.exports={container:"styles_container__1i7Qt",wrapper:"styles_wrapper__2qbpV",userBox:"styles_userBox__3a5u9",image:"styles_image__11Yot",exitButton:"styles_exitButton__3BCit",username:"styles_username__3LXNR",exit:"styles_exit__2YFO5",buttonContainer:"styles_buttonContainer__3GfD6"}},35:function(e,t,a){e.exports={container:"styles_container__3Niza",wrapper:"styles_wrapper__1LXHj",messageContainer:"styles_messageContainer__2BOhR",image:"styles_image__3lhi_",textBox:"styles_textBox__3ZgkF",username:"styles_username__3MNjK",message:"styles_message__2EenM",date:"styles_date__2uT6J",loading:"styles_loading__2yPfW"}},36:function(e,t,a){e.exports={container:"styles_container__3BXkG",wrapperInChannel:"styles_wrapperInChannel__htkyy",wrapperOutChannel:"styles_wrapperOutChannel__2VRY2",title:"styles_title__2clG8",addButton:"styles_addButton__12tTJ",arrow:"styles_arrow__2vgBi",add:"styles_add__2wScA"}},37:function(e,t,a){e.exports={container:"styles_container__2xNfY",logo:"styles_logo__BRvPe",form:"styles_form__1o0MN",input:"styles_input__1kiHw",submit:"styles_submit__36CgC",guest:"styles_guest__23uPH",error:"styles_error__1Wx2V"}},43:function(e,t,a){e.exports={container:"styles_container__1o0Fe",logo:"styles_logo__-42WF",form:"styles_form__3iops",input:"styles_input__3SIu9",submit:"styles_submit__2tz8r",guest:"styles_guest__1fzKS",error:"styles_error__ZnYsY"}},46:function(e,t,a){e.exports={container:"styles_container__1eC4c",wrapper:"styles_wrapper__yKduZ",member:"styles_member__3fRCJ",title:"styles_title__2XsWg",username:"styles_username__2eb-_",image:"styles_image__J8vpo",loading:"styles_loading__2VQz7"}},47:function(e,t,a){e.exports={backdrop:"styles_backdrop__vFnbO",modal:"styles_modal__2ypNE",form:"styles_form__35WkX",input:"styles_input__2PV0Q",error:"styles_error__36mV2",image:"styles_image__11FlE",file:"styles_file__38Q9g"}},48:function(e,t,a){e.exports={container:"styles_container__4Nu-6",main:"styles_main__1s-dM",side:"styles_side__1Sb-a",mobile:"styles_mobile__36sqR",sideContent:"styles_sideContent__2RRNI","slide-in":"styles_slide-in__3o5Wp"}},58:function(e,t,a){e.exports={container:"styles_container__22UZb",title:"styles_title__Ej-Me",wrapper:"styles_wrapper__jOH-a",list:"styles_list__15TjS",description:"styles_description__2v6wa",logo:"styles_logo__6xdUQ"}},59:function(e,t,a){e.exports={backdrop:"styles_backdrop__3YpAz",modal:"styles_modal__3y1tw",form:"styles_form__V8Jh9",input:"styles_input__32pb9",error:"styles_error__YbLa9"}},69:function(e,t,a){e.exports={container:"styles_container__DqthX",wrapper:"styles_wrapper__tQxOT",title:"styles_title__3NY4r",iconButton:"styles_iconButton__3PNcZ",menu:"styles_menu__6okpy"}},70:function(e,t,a){e.exports={container:"styles_container__18Kjq",wrapper:"styles_wrapper__2Xr1l",group:"styles_group__2c-j8",tag:"styles_tag___JKYL",title:"styles_title__1CSj3"}},76:function(e,t,a){e.exports={container:"styles_container__82uG4",input:"styles_input__3eA4I",iconButton:"styles_iconButton__2vq75",send:"styles_send__3iZ-6"}},77:function(e,t,a){e.exports={container:"styles_container__1BDXC",input:"styles_input__pfyyU",iconButton:"styles_iconButton__EtfuS",search:"styles_search__2jlGM"}},78:function(e,t,a){e.exports={container:"styles_container__1LU86",wrapper:"styles_wrapper__iBB-9",title:"styles_title__3l4Z9",description:"styles_description__2OoUl"}},90:function(e,t,a){e.exports={purple:"styles_purple__3xh8b",black:"styles_black__3Tk7k",smallPurple:"styles_smallPurple__Wpznm"}},91:function(e,t,a){e.exports={container:"styles_container__3710A",logo:"styles_logo__3EFlQ",guest:"styles_guest__5Ltnc"}}},[[216,1,2]]]);
//# sourceMappingURL=main.b4ac0ec2.chunk.js.map