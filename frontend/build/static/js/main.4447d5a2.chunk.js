(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{116:function(e,t,a){e.exports={purple:"styles_purple__3xh8b",black:"styles_black__3Tk7k",smallPurple:"styles_smallPurple__Wpznm"}},117:function(e,t,a){e.exports={container:"styles_container__3710A",logo:"styles_logo__3EFlQ",guest:"styles_guest__5Ltnc"}},32:function(e,t,a){e.exports={container:"styles_container__1i7Qt",wrapper:"styles_wrapper__2qbpV",userBox:"styles_userBox__3a5u9",image:"styles_image__11Yot",exitButton:"styles_exitButton__3BCit",username:"styles_username__3LXNR",exit:"styles_exit__2YFO5",buttonContainer:"styles_buttonContainer__3GfD6"}},372:function(e,t,a){},373:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a(0),s=a(12),c=a.n(s),o=a(86),i=a(14),l=a(11),u=a.n(l),p=a(23),d=a(8),j=a(20),b=a.n(j),m=a(190),O=a.n(m),h=a(412),_=a(408),g=a.p+"static/media/gc-logo-symbol-nobg.b927fc8a.png",x=a(67),f=a.n(x),y=function(e){return Object(r.jsx)("div",{className:f.a.container,onClick:e.onClick,children:Object(r.jsxs)("div",{className:f.a.wrapper,children:[Object(r.jsx)("img",{className:f.a.logo,alt:"logo",src:g}),Object(r.jsx)("h1",{className:f.a.title,children:"Hello World!"}),Object(r.jsx)("p",{className:f.a.description,children:"I really appreciate that you take time to have a look to my work. This app is an instant messaging project that offer the possibility to create and join channels and start a conversation."}),Object(r.jsxs)("ul",{className:f.a.list,children:[Object(r.jsx)("li",{children:'\u2b50\ufe0f Use the "menu" icon on top (Mobile).'}),Object(r.jsx)("li",{children:"\u2b50\ufe0f Click on any channel you want to join."}),Object(r.jsx)("li",{children:'\u2b50\ufe0f Create a channel with the "+" icon.'}),Object(r.jsx)("li",{children:"\u2b50\ufe0f Send messages with the text input."}),Object(r.jsx)("li",{children:"\u2b50\ufe0f Browse channels with the search input."}),Object(r.jsx)("li",{children:'\u2b50\ufe0f Report a bug with the "bug" icon.'}),Object(r.jsx)("li",{children:"\u2b50\ufe0f Click on your profile to edit."}),Object(r.jsx)("li",{children:'\u2b50\ufe0f Use the "exit" icon to logout.'})]})]})})},v=a(401),k=a(38),C=a.n(k),N=function(e){return Object(r.jsxs)("div",{className:C.a.messageContainer,children:[Object(r.jsx)("img",{className:C.a.image,alt:"User",src:e.image}),Object(r.jsxs)("div",{className:C.a.textBox,children:[Object(r.jsxs)("p",{className:C.a.username,children:[e.username," ",Object(r.jsx)("span",{className:C.a.date,children:e.date})]}),Object(r.jsx)("p",{className:C.a.message,children:e.text})]})]})},w=function(e){return Object(n.useEffect)((function(){var e=document.getElementById("chat");e&&(e.scrollTop=e.scrollHeight)})),Object(r.jsx)("div",{id:"chat",className:C.a.container,onClick:e.onClick,children:e.loading?Object(r.jsx)("div",{className:C.a.loading,children:Object(r.jsx)(v.a,{})}):Object(r.jsx)("div",{className:C.a.wrapper,children:e.messages.map((function(e){return Object(r.jsx)(N,{_id:e._id,username:e.username,text:e.text,image:e.image,date:e.date},e._id)}))})})},S=a(413),R=a(409),E=a(194),G=a.n(E),T=a(91),A=a.n(T),B=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),s=a[0],c=a[1],o=function(){e.sendClick(s,function(){var e=new Date,t=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],a=String(e.getDate()).padStart(2,"0");return"".concat(t+" "+a+","," - ").concat((new Date).getHours(),":").concat((new Date).getMinutes())}()),c("")};return Object(r.jsxs)("div",{className:A.a.container,onClick:e.onClick,children:[Object(r.jsx)(S.a,{className:A.a.input,placeholder:"Write here...",value:s,onChange:function(e){return c(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&o()}}),Object(r.jsx)(R.a,{className:A.a.iconButton,onClick:o,children:Object(r.jsx)(G.a,{className:A.a.send})})]})},D=a(195),L=a.n(D),U=a(79),I=a.n(U),P=function(e){return Object(r.jsx)("div",{className:I.a.container,children:Object(r.jsxs)("div",{className:I.a.wrapper,children:[Object(r.jsx)(R.a,{className:I.a.iconButton,onClick:e.menuClick,children:Object(r.jsx)(L.a,{className:I.a.menu,fontSize:"large"})}),Object(r.jsx)("h2",{className:I.a.title,children:e.title})]})})},M=a(197),F=a.n(M),H=a(196),q=a.n(H),Y=a(39),J=a.n(Y),V=function(e){return Object(r.jsx)("div",{className:J.a.container,children:e.inChannel?Object(r.jsxs)("div",{className:J.a.wrapperInChannel,children:[Object(r.jsx)(R.a,{className:J.a.arrowButton,onClick:e.arrowClick,children:Object(r.jsx)(q.a,{className:J.a.arrow})}),Object(r.jsx)("h2",{className:J.a.title,children:"All channels"})]}):Object(r.jsxs)("div",{className:J.a.wrapperOutChannel,children:[Object(r.jsx)("h2",{className:J.a.title,children:"Channels"}),Object(r.jsx)(R.a,{className:J.a.addButton,onClick:e.plusClick,children:Object(r.jsx)(F.a,{className:J.a.add})})]})})},X=a(199),W=a.n(X),Q=a(198),z=a.n(Q),Z=a(32),K=a.n(Z),$=function(e){var t=Object(i.c)((function(e){return e.auth})),a=t.username,n=t.image;return Object(r.jsx)("div",{className:K.a.container,children:Object(r.jsxs)("div",{className:K.a.wrapper,children:[Object(r.jsxs)("div",{className:K.a.userBox,children:[Object(r.jsx)("img",{className:K.a.image,alt:"User",src:n,onClick:e.profileClick}),Object(r.jsx)("p",{className:K.a.username,children:a})]}),Object(r.jsxs)("div",{className:K.a.buttonContainer,children:[Object(r.jsx)(R.a,{className:K.a.exitButton,onClick:e.bugClick,children:Object(r.jsx)(z.a,{className:K.a.exit})}),Object(r.jsx)(R.a,{className:K.a.exitButton,onClick:e.exitClick,children:Object(r.jsx)(W.a,{className:K.a.exit})})]})]})})},ee=a(200),te=a.n(ee),ae=a(92),re=a.n(ae),ne=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),s=a[0],c=a[1];return Object(r.jsxs)("div",{className:re.a.container,children:[Object(r.jsx)(R.a,{className:re.a.iconButton,children:Object(r.jsx)(te.a,{className:re.a.search})}),Object(r.jsx)(S.a,{className:re.a.input,placeholder:"Search...",onChange:function(t){return function(t){c(t.target.value);var a=e.groups.filter((function(e){return e.title.toLowerCase().includes(t.target.value.toLowerCase())}));e.update(a)}(t)},value:s})]})},se=a(80),ce=a.n(se),oe=function(e){return Object(r.jsxs)("div",{className:ce.a.group,onClick:function(){return e.groupClick(e._id)},children:[Object(r.jsx)("span",{className:ce.a.tag,children:e.tag}),Object(r.jsx)("p",{className:ce.a.title,children:e.title})]})},ie=function(e){return Object(r.jsx)("div",{className:ce.a.container,children:Object(r.jsx)("div",{className:ce.a.wrapper,children:e.groups.map((function(t){return Object(r.jsx)(oe,{_id:t._id,title:t.title,tag:"".concat(t.title[0]).concat(t.title[1]).toUpperCase(),groupClick:function(t){return e.groupClick(t)}},t._id)}))})})},le=a(93),ue=a.n(le),pe=function(e){var t,a;return Object(r.jsx)("div",{className:ue.a.container,children:Object(r.jsxs)("div",{className:ue.a.wrapper,children:[Object(r.jsx)("p",{className:ue.a.title,children:null===(t=e.currentGroup)||void 0===t?void 0:t.title}),Object(r.jsx)("p",{className:ue.a.description,children:null===(a=e.currentGroup)||void 0===a?void 0:a.description})]})})},de=a(53),je=a.n(de),be=function(e){return Object(r.jsxs)("div",{className:je.a.member,children:[Object(r.jsx)("img",{className:je.a.image,alt:"User",src:e.image}),Object(r.jsx)("p",{className:je.a.username,children:e.username})]})},me=function(e){return Object(r.jsxs)("div",{className:je.a.container,children:[Object(r.jsx)("p",{className:je.a.title,children:"Members"}),e.loading?Object(r.jsx)("div",{className:je.a.loading,children:Object(r.jsx)(v.a,{})}):Object(r.jsx)("div",{className:je.a.wrapper,children:e.members.map((function(e){return Object(r.jsx)(be,{_id:null===e||void 0===e?void 0:e._id,username:null===e||void 0===e?void 0:e.username,image:null===e||void 0===e?void 0:e.image},null===e||void 0===e?void 0:e._id)}))})]})},Oe=a(407),he=a(207),_e=a(405),ge=a(116),xe=a.n(ge),fe=function(e){return e.isPurple?Object(r.jsx)("button",{onClick:e.onClick,className:e.small?xe.a.smallPurple:xe.a.purple,type:e.type?e.type:"button",children:e.title}):Object(r.jsx)("button",{onClick:e.onClick,className:xe.a.black,type:e.type?e.type:"button",children:e.title})},ye=a(68),ve=a.n(ye),ke=Object(he.a)({palette:{type:"dark"}}),Ce=function(e){var t=Object(i.b)(),a=Object(n.useState)(!0),s=Object(d.a)(a,2),c=s[0],o=s[1],l=Object(n.useState)(""),u=Object(d.a)(l,2),p=u[0],j=u[1],b=Object(n.useState)(!1),m=Object(d.a)(b,2),O=m[0],h=m[1],_=Object(n.useState)(""),g=Object(d.a)(_,2),x=g[0],f=g[1],y=Object(n.useState)(""),v=Object(d.a)(y,2),k=v[0],C=v[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:ve.a.backdrop,onClick:function(){return t({type:"MODAL",payload:{modal:null}})}}),Object(r.jsxs)("div",{className:ve.a.modal,children:[Object(r.jsx)("h2",{children:e.title}),Object(r.jsx)(_e.a,{theme:ke,children:Object(r.jsxs)("form",{className:ve.a.form,onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsx)(Oe.a,{className:ve.a.input,id:"title",label:"Title",variant:"outlined",onChange:function(e){return function(e){e.target.value.length<=1?(h(!0),f("Title should contain at least 2 characters.")):(h(!1),f(""),o(!0)),j(e.target.value)}(e)},helperText:x,error:O,value:p}),Object(r.jsx)(Oe.a,{className:ve.a.input,id:"description",rows:3,label:"Description",variant:"outlined",multiline:!0,value:k,onChange:function(e){return C(e.target.value)}}),Object(r.jsx)(fe,{onClick:function(){return function(t,a){O?o(!1):e.onCreate(t,a)}(p,k)},isPurple:!0,title:"Create",small:!0}),!c&&Object(r.jsx)("p",{className:ve.a.error,children:"Invalid entries."})]})})]})]})},Ne=a(201),we=a.n(Ne),Se=a(54),Re=a.n(Se),Ee=Object(he.a)({palette:{type:"dark"}}),Ge=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.auth})),s=a.username,c=a.image,o=Object(n.useRef)(null),l=Object(n.useState)(!1),j=Object(d.a)(l,2),m=j[0],O=j[1],h=Object(n.useState)(!0),_=Object(d.a)(h,2),g=_[0],x=_[1],f=Object(n.useState)(s),y=Object(d.a)(f,2),k=y[0],C=y[1],N=Object(n.useState)(!1),w=Object(d.a)(N,2),S=w[0],R=w[1],E=Object(n.useState)(""),G=Object(d.a)(E,2),T=G[0],A=G[1],B=Object(n.useState)(c),D=Object(d.a)(B,2),L=D[0],U=D[1],I=function(){var e=Object(p.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,b.a.post("https://api.cloudinary.com/v1_1/djghq5xmi/image/upload",t);case 4:a=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("ERROR",e.t0),O(!1);case 11:if(a){e.next=13;break}return e.abrupt("return");case 13:U(a.data.secure_url),O(!1);case 15:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:Re.a.backdrop,onClick:function(){return t({type:"MODAL",payload:{modal:null}})}}),Object(r.jsxs)("div",{className:Re.a.modal,children:[Object(r.jsx)("h2",{children:"Profile"}),Object(r.jsx)(_e.a,{theme:Ee,children:Object(r.jsxs)("form",{className:Re.a.form,onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsx)("img",{className:Re.a.image,alt:"User",src:L,onClick:function(){null!==o.current&&o.current.click()}}),Object(r.jsx)("input",{className:Re.a.file,type:"file",ref:o,accept:".jpg,.png,.jpeg",onChange:function(e){var t=new FormData;t.append("file",e.target.files[0]),t.append("api_key","467699583817694"),t.append("timestamp",Math.floor(Date.now()/1e3).toString()),t.append("signature",we()("timestamp=".concat(Math.floor(Date.now()/1e3)).concat("lX7wf1sbaFwNfYjrYP08xh9TjQU"))),I(t)}}),Object(r.jsx)(Oe.a,{className:Re.a.input,id:"username",label:"Username",variant:"outlined",onChange:function(e){return function(e){e.target.value.length<=2?(R(!0),A("Title should contain at least 3 characters.")):(R(!1),A(""),x(!0)),C(e.target.value)}(e)},helperText:T,error:S,value:k}),Object(r.jsx)(fe,{onClick:function(){return function(t,a){S?x(!1):e.onEdit(t,a)}(k,L)},isPurple:!0,title:"Edit",small:!0}),!g&&Object(r.jsx)("p",{className:Re.a.error,children:"Invalid entries."}),m&&Object(r.jsx)(v.a,{})]})})]})]})},Te=a(55),Ae=a.n(Te),Be=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})),a=Object(i.c)((function(e){return e.app})),s=a.inChannel,c=a.currentGroup,o=a.displayedGroups,l=a.messages,j=a.members,m=a.groups,g=a.modal,x=Object(n.useState)(!1),f=Object(d.a)(x,2),v=f[0],k=f[1],C=Object(n.useState)(!1),N=Object(d.a)(C,2),S=N[0],R=N[1],E=Object(n.useState)({open:!1,severity:void 0,message:null}),G=Object(d.a)(E,2),T=G[0],A=G[1],D=Object(n.useState)(null),L=Object(d.a)(D,2),U=L[0],I=L[1];Object(n.useEffect)((function(){var e=O()("https://groupchat-server.herokuapp.com",{transports:["websocket"]});e.emit("new user",t.id),e.on("fetch messages",(function(e){return X(e)})),e.on("fetch group",J),I(e),J()}),[]),Object(n.useEffect)((function(){U&&(U.emit("join group",t.id,null===c||void 0===c?void 0:c._id),X())}),[c]);var M,F,H=function(){var a=Object(p.a)(u.a.mark((function a(r,n){var s,c,o,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.token,c=t.id,s){a.next=4;break}return A({open:!0,severity:"error",message:"Guests are not allowed to create groups, please register."}),a.abrupt("return");case 4:return a.prev=4,a.next=7,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/users/verify"),{id:c,token:s});case 7:o=a.sent,a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(4),console.log("[ERROR][AUTH][VERIFY]: ",a.t0),a.abrupt("return");case 14:if(o.data.access){a.next=17;break}return localStorage.removeItem("userData"),a.abrupt("return");case 17:return a.prev=17,a.next=20,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/groups"),{title:r,description:n||"No description."});case 20:i=a.sent,a.next=28;break;case 23:return a.prev=23,a.t1=a.catch(17),console.log("[ERROR][GROUPS][CREATE]: ",a.t1),A({open:!0,severity:"error",message:"An error occured: Could not create group."}),a.abrupt("return");case 28:if(i){a.next=30;break}return a.abrupt("return");case 30:e({type:"MODAL",payload:{modal:null}}),J(),null===U||void 0===U||U.emit("create group",t.id,r),A({open:!0,severity:"success",message:"".concat(r," channel created.")});case 34:case"end":return a.stop()}}),a,null,[[4,10],[17,23]])})));return function(e,t){return a.apply(this,arguments)}}(),q=function(){var a=Object(p.a)(u.a.mark((function a(r,n){var s,c,o,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.token,c=t.id,s){a.next=4;break}return A({open:!0,severity:"error",message:"Guests are not allowed to edit profile, please register."}),a.abrupt("return");case 4:return a.prev=4,a.next=7,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/users/verify"),{id:c,token:s});case 7:o=a.sent,a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(4),console.log("[ERROR][AUTH][VERIFY]: ",a.t0),a.abrupt("return");case 14:if(o.data.access){a.next=17;break}return localStorage.removeItem("userData"),a.abrupt("return");case 17:return a.prev=17,a.next=20,b.a.put("".concat("https://groupchat-server.herokuapp.com/api","/users/edit"),{id:c,username:r,image:n});case 20:i=a.sent,a.next=28;break;case 23:return a.prev=23,a.t1=a.catch(17),console.log("[ERROR][USERS][EDIT]: ",a.t1),A({open:!0,severity:"error",message:"An error occured: Could not edit profile."}),a.abrupt("return");case 28:if(i){a.next=30;break}return a.abrupt("return");case 30:A({open:!0,severity:"success",message:"Profile updated."}),e({type:"MODAL",payload:{modal:null}}),e({type:"EDIT",payload:{username:i.data.user.username,image:i.data.user.image}});case 33:case"end":return a.stop()}}),a,null,[[4,10],[17,23]])})));return function(e,t){return a.apply(this,arguments)}}(),Y=function(){var e=Object(p.a)(u.a.mark((function e(a,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/messages"),{gid:null===c||void 0===c?void 0:c._id,text:a,username:t.username,image:t.image,uid:t.id,date:r});case 5:n=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),console.log("[ERROR][GROUPS][CREATE]: ",e.t0),A({open:!0,severity:"error",message:"An error occured: Could not send message."}),e.abrupt("return");case 13:if(n){e.next=15;break}return e.abrupt("return");case 15:null===U||void 0===U||U.emit("message",t.id,null===c||void 0===c?void 0:c._id);case 16:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var t=Object(p.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("".concat("https://groupchat-server.herokuapp.com/api","/groups"));case 3:a=t.sent,t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),console.log("[ERROR][GROUPS][FETCH]: ",t.t0),A({open:!0,severity:"error",message:"An error occured: Could not fetch groups."}),t.abrupt("return");case 11:if(a){t.next=13;break}return t.abrupt("return");case 13:e({type:"FETCH GROUPS",payload:{displayedGroups:a.data.groups,groups:a.data.groups}});case 14:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),X=function(){var t=Object(p.a)(u.a.mark((function t(){var a,r,n=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.length>0&&void 0!==n[0]?n[0]:null===c||void 0===c?void 0:c._id){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,b.a.get("".concat("https://groupchat-server.herokuapp.com/api","/groups/").concat(a));case 6:r=t.sent,t.next=15;break;case 9:return t.prev=9,t.t0=t.catch(3),console.log("[ERROR][MESSAGES][FETCH]: ",t.t0),A({open:!0,severity:"error",message:"An error occured: Could not fetch messages and members."}),R(!1),t.abrupt("return");case 15:if(R(!1),!r.data.error){t.next=19;break}return A({open:!0,severity:"error",message:"An error occured: Could not fetch messages and members."}),t.abrupt("return");case 19:e({type:"FETCH MESSAGES",payload:{messages:r.data.messages,members:r.data.members}});case 20:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}(),W=function(){var a=Object(p.a)(u.a.mark((function a(r,n){var s,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.id,a.prev=1,a.next=4,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/bugs"),{id:s,title:r,description:n||"No description."});case 4:c=a.sent,a.next=12;break;case 7:return a.prev=7,a.t0=a.catch(1),console.log("[ERROR][BUGS][CREATE]: ",a.t0),A({open:!0,severity:"error",message:"An error occured: Could not report bug."}),a.abrupt("return");case 12:if(c){a.next=14;break}return a.abrupt("return");case 14:e({type:"MODAL",payload:{modal:null}}),A({open:!0,severity:"success",message:"Bug reported, thank you!"});case 16:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e,t){return a.apply(this,arguments)}}();return s?(M=Object(r.jsxs)("div",{className:Ae.a.sideContent,children:[Object(r.jsx)(pe,{currentGroup:c}),Object(r.jsx)(me,{members:j,loading:S})]}),F=Object(r.jsxs)("div",{className:Ae.a.main,children:[Object(r.jsx)(P,{title:null===c||void 0===c?void 0:c.title,menuClick:function(){return k(!0)}}),Object(r.jsx)(w,{messages:l,onClick:function(){return k(!1)},loading:S}),Object(r.jsx)(B,{sendClick:Y,onClick:function(){return k(!1)}})]})):(M=Object(r.jsxs)("div",{className:Ae.a.sideContent,children:[Object(r.jsx)(ne,{groups:m,update:function(t){return e({type:"SEARCH",payload:{displayedGroups:t}})}}),Object(r.jsx)(ie,{groups:o,groupClick:function(t){return function(t){R(!0);var a=m.filter((function(e){return e._id===t}));a.length>0&&e({type:"CHANGE GROUP",payload:{currentGroup:a[0]}})}(t)}})]}),F=Object(r.jsxs)("div",{className:Ae.a.main,children:[Object(r.jsx)(P,{title:"",menuClick:function(){return k(!0)}}),Object(r.jsx)(y,{onClick:function(){return k(!1)}})]})),Object(r.jsxs)("div",{className:Ae.a.container,children:[Object(r.jsxs)("div",{className:v?Ae.a.mobile:Ae.a.side,children:[Object(r.jsx)(V,{inChannel:s,arrowClick:function(){e({type:"EXIT"})},plusClick:function(){e({type:"MODAL",payload:{modal:"create"}}),k(!1)}}),M,Object(r.jsx)($,{exitClick:function(){null===U||void 0===U||U.disconnect(),localStorage.removeItem("userData"),e({type:"LOGOUT"})},profileClick:function(){e({type:"MODAL",payload:{modal:"edit"}}),k(!1)},bugClick:function(){e({type:"MODAL",payload:{modal:"bug"}}),k(!1)}})]}),F,"create"===g&&Object(r.jsx)(Ce,{onCreate:H,title:"New Channel"}),"edit"===g&&Object(r.jsx)(Ge,{onEdit:q}),"bug"===g&&Object(r.jsx)(Ce,{onCreate:W,title:"Bug Report"}),Object(r.jsx)(h.a,{open:T.open,onClose:function(){return A({open:!1,severity:T.severity,message:null})},autoHideDuration:5e3,children:Object(r.jsx)(_.a,{variant:"filled",onClose:function(){return A({open:!1,severity:T.severity,message:null})},severity:T.severity,children:T.message})})]})},De=a(7),Le=a(31),Ue=a(17),Ie=a.p+"static/media/cropped.955e0ca1.png",Pe=a(117),Me=a.n(Pe),Fe=function(e){var t=Object(i.b)(),a=function(){var e=Object(p.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/users/guest"));case 3:a=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log("[ERROR][AUTH][GUEST]: ",e.t0),e.abrupt("return");case 10:if(a.data.access){e.next=12;break}return e.abrupt("return");case 12:t({type:"GUEST",payload:Object(De.a)({},a.data.user)});case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:Me.a.container,children:[Object(r.jsx)("img",{className:Me.a.logo,alt:"GroupChat Logo",src:Ie}),Object(r.jsx)(Le.b,{to:"/login",children:Object(r.jsx)(fe,{onClick:function(){},isPurple:!1,title:"Login",small:!1})}),Object(r.jsx)(Le.b,{to:"/signup",children:Object(r.jsx)(fe,{onClick:function(){},isPurple:!0,title:"Signup",small:!1})}),Object(r.jsx)("p",{className:Me.a.guest,onClick:a,children:"Continue as guest"})]})},He=a(414),qe=a(410),Ye=a(115),Je=a(47),Ve=a(56),Xe=a.n(Ve),We=function(e){var t=Object(i.b)(),a=Object(n.useState)(!1),s=Object(d.a)(a,2),c=s[0],o=s[1],l=Object(n.useState)(!1),j=Object(d.a)(l,2),m=j[0],O=j[1],x=Object(n.useState)({open:!1,message:null}),f=Object(d.a)(x,2),y=f[0],k=f[1],C=function(){var e=Object(p.a)(u.a.mark((function e(a,r,n){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/users/login"),{checked:a,email:r.toLowerCase(),password:n.toLowerCase()});case 4:s=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),console.log("[ERROR][AUTH][LOGIN]: ",e.t0),o(!1),e.abrupt("return");case 12:if(s.data.access){e.next=16;break}return k({open:!0,message:s.data.message}),o(!1),e.abrupt("return");case 16:a&&localStorage.setItem("userData",JSON.stringify({id:s.data.user.id,token:s.data.user.token})),t({type:"LOGIN",payload:Object(De.a)({},s.data.user)}),o(!1);case 19:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a,r){return e.apply(this,arguments)}}(),N=Object(Ye.a)({initialValues:{email:"",password:""},validationSchema:Je.a({email:Je.b().email("Invalid email address").required("Required"),password:Je.b().min(6,"Must be 6 characters at least").required("Required")}),onSubmit:function(e){return C(m,e.email,e.password)}});return Object(r.jsxs)("div",{className:Xe.a.container,children:[Object(r.jsx)(Le.b,{to:"/",children:Object(r.jsx)("img",{className:Xe.a.logo,alt:"logo",src:g})}),Object(r.jsxs)("form",{className:Xe.a.form,children:[Object(r.jsx)(Oe.a,Object(De.a)({className:Xe.a.input,id:"email",label:"Email",variant:"outlined",type:"text",helperText:N.touched.email&&N.errors.email,error:N.touched.email&&!!N.errors.email},N.getFieldProps("email"))),Object(r.jsx)(Oe.a,Object(De.a)(Object(De.a)({className:Xe.a.input,id:"password",label:"Password",variant:"outlined",type:"password"},N.getFieldProps("password")),{},{helperText:N.touched.password&&N.errors.password,error:N.touched.password&&!!N.errors.password})),Object(r.jsx)(He.a,{className:Xe.a.check,control:Object(r.jsx)(qe.a,{checked:m,onChange:function(){return O((function(e){return!e}))},name:"checked",color:"primary"}),label:"Remember me"}),Object(r.jsx)(fe,{type:"submit",onClick:N.handleSubmit,isPurple:!0,title:"Login",small:!1})]}),Object(r.jsx)(Le.b,{to:"/signup",children:Object(r.jsx)("p",{className:Xe.a.guest,children:"Don't have an account? Sign Up"})}),c&&Object(r.jsx)(v.a,{}),Object(r.jsx)(h.a,{open:y.open,onClose:function(){return k({open:!1,message:null})},autoHideDuration:5e3,children:Object(r.jsx)(_.a,{variant:"filled",onClose:function(){return k({open:!1,message:null})},severity:"error",children:y.message})})]})},Qe=a(48),ze=a.n(Qe),Ze=function(e){var t=Object(i.b)(),a=Object(n.useState)(!1),s=Object(d.a)(a,2),c=s[0],o=s[1],l=Object(n.useState)(!1),j=Object(d.a)(l,2),m=j[0],O=j[1],x=Object(n.useState)({open:!1,message:null}),f=Object(d.a)(x,2),y=f[0],k=f[1],C=function(){var e=Object(p.a)(u.a.mark((function e(a,r,n,s){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/users/signup"),{checked:a,email:r.toLowerCase(),password:n.toLowerCase(),username:s});case 4:c=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),console.log("[ERROR][AUTH][SIGNUP]: ",e.t0),o(!1),e.abrupt("return");case 12:if(c.data.access){e.next=16;break}return k({open:!0,message:c.data.message}),o(!1),e.abrupt("return");case 16:a&&localStorage.setItem("userData",JSON.stringify({id:c.data.user.id,token:c.data.user.token})),t({type:"LOGIN",payload:Object(De.a)({},c.data.user)}),o(!1);case 19:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a,r,n){return e.apply(this,arguments)}}(),N=Object(Ye.a)({initialValues:{username:"",email:"",password:""},validationSchema:Je.a({username:Je.b().min(2,"Must be 2 characters at least").required("Required"),email:Je.b().email("Invalid email address").required("Required"),password:Je.b().min(6,"Must be 6 characters at least").required("Required")}),onSubmit:function(e){return C(m,e.email,e.password,e.username)}});return Object(r.jsxs)("div",{className:ze.a.container,children:[Object(r.jsx)(Le.b,{to:"/",children:Object(r.jsx)("img",{className:ze.a.logo,alt:"logo",src:g})}),Object(r.jsxs)("form",{className:ze.a.form,children:[Object(r.jsx)(Oe.a,Object(De.a)({className:ze.a.input,id:"username",label:"Username",variant:"outlined",helperText:N.touched.username&&N.errors.username,error:N.touched.username&&!!N.errors.username},N.getFieldProps("username"))),Object(r.jsx)(Oe.a,Object(De.a)({className:ze.a.input,id:"email",label:"Email",variant:"outlined",helperText:N.touched.email&&N.errors.email,error:N.touched.email&&!!N.errors.email},N.getFieldProps("email"))),Object(r.jsx)(Oe.a,Object(De.a)({className:ze.a.input,id:"password",label:"Password",type:"password",variant:"outlined",helperText:N.touched.password&&N.errors.password,error:N.touched.password&&!!N.errors.password},N.getFieldProps("password"))),Object(r.jsx)(He.a,{className:ze.a.check,control:Object(r.jsx)(qe.a,{checked:m,onChange:function(){return O((function(e){return!e}))},name:"checkedB",color:"primary"}),label:"Remember me"}),Object(r.jsx)(fe,{type:"submit",onClick:N.handleSubmit,isPurple:!0,title:"Signup",small:!1})]}),Object(r.jsx)(Le.b,{to:"/login",children:Object(r.jsx)("p",{className:ze.a.guest,children:"Already a member ? Login"})}),c&&Object(r.jsx)(v.a,{}),Object(r.jsx)(h.a,{open:y.open,onClose:function(){return k({open:!1,message:null})},autoHideDuration:5e3,children:Object(r.jsx)(_.a,{variant:"filled",onClose:function(){return k({open:!1,message:null})},severity:"error",children:y.message})})]})},Ke=Object(he.a)({palette:{type:"dark"}}),$e=function(e){var t=Object(i.b)();Object(n.useEffect)((function(){var e=localStorage.getItem("userData");if(e){var t=JSON.parse(e);a(t.id,t.token)}}),[]);var a=function(){var e=Object(p.a)(u.a.mark((function e(a,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat("https://groupchat-server.herokuapp.com/api","/users/verify"),{id:a,token:r});case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log("[ERROR][AUTH][VERIFY]: ",e.t0),e.abrupt("return");case 10:if(n.data.access){e.next=13;break}return localStorage.removeItem("userData"),e.abrupt("return");case 13:t({type:"LOGIN",payload:Object(De.a)({},n.data.user)});case 14:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(r.jsx)(_e.a,{theme:Ke,children:Object(r.jsx)(Le.a,{children:Object(r.jsxs)(Ue.d,{children:[Object(r.jsx)(Ue.b,{path:"/login",exact:!0,component:We}),Object(r.jsx)(Ue.b,{path:"/signup",exact:!0,component:Ze}),Object(r.jsx)(Ue.b,{path:"/",exact:!0,component:Fe}),Object(r.jsx)(Ue.a,{to:"/"})]})})})},et=function(){return Object(i.c)((function(e){return e.auth.isLogged}))?Object(r.jsx)(Be,{}):Object(r.jsx)($e,{})},tt={inChannel:!1,messages:[],members:[],displayedGroups:[],groups:[],currentGroup:null,modal:null},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE GROUP":return Object(De.a)(Object(De.a)({},e),{},{currentGroup:t.payload.currentGroup,inChannel:!0});case"SEARCH":return Object(De.a)(Object(De.a)({},e),{},{displayedGroups:t.payload.displayedGroups});case"FETCH GROUPS":return Object(De.a)(Object(De.a)({},e),{},{displayedGroups:t.payload.displayedGroups,groups:t.payload.groups});case"FETCH MESSAGES":return Object(De.a)(Object(De.a)({},e),{},{messages:t.payload.messages,members:t.payload.members});case"MODAL":return Object(De.a)(Object(De.a)({},e),{},{modal:t.payload.modal});case"EXIT":return Object(De.a)(Object(De.a)({},e),{},{inChannel:!1,currentGroup:null,displayedGroups:e.groups,members:[],messages:[]});default:return e}},rt={isLogged:!1,username:null,image:null,token:null,id:null},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(De.a)(Object(De.a)({},e),{},{isLogged:!0,username:t.payload.username,image:t.payload.image,token:t.payload.token,id:t.payload.id});case"LOGOUT":return Object(De.a)(Object(De.a)({},e),{},{isLogged:!1,username:null,image:null,token:null,id:null});case"GUEST":return Object(De.a)(Object(De.a)({},e),{},{isLogged:!0,username:t.payload.username,image:t.payload.image,token:null,id:t.payload.id});case"EDIT":return Object(De.a)(Object(De.a)({},e),{},{isLogged:!0,username:t.payload.username,image:t.payload.image});default:return e}},st=(a(372),Object(o.b)({auth:nt,app:at})),ct=Object(o.c)(st);c.a.render(Object(r.jsx)(i.a,{store:ct,children:Object(r.jsx)(et,{})}),document.getElementById("root"))},38:function(e,t,a){e.exports={container:"styles_container__3Niza",wrapper:"styles_wrapper__1LXHj",messageContainer:"styles_messageContainer__2BOhR",image:"styles_image__3lhi_",textBox:"styles_textBox__3ZgkF",username:"styles_username__3MNjK",message:"styles_message__2EenM",date:"styles_date__2uT6J",loading:"styles_loading__2yPfW"}},39:function(e,t,a){e.exports={container:"styles_container__3BXkG",wrapperInChannel:"styles_wrapperInChannel__htkyy",wrapperOutChannel:"styles_wrapperOutChannel__2VRY2",title:"styles_title__2clG8",addButton:"styles_addButton__12tTJ",arrow:"styles_arrow__2vgBi",add:"styles_add__2wScA"}},48:function(e,t,a){e.exports={container:"styles_container__2xNfY",logo:"styles_logo__BRvPe",form:"styles_form__1o0MN",input:"styles_input__1kiHw",submit:"styles_submit__36CgC",guest:"styles_guest__23uPH",error:"styles_error__1Wx2V"}},53:function(e,t,a){e.exports={container:"styles_container__1eC4c",wrapper:"styles_wrapper__yKduZ",member:"styles_member__3fRCJ",title:"styles_title__2XsWg",username:"styles_username__2eb-_",image:"styles_image__J8vpo",loading:"styles_loading__2VQz7"}},54:function(e,t,a){e.exports={backdrop:"styles_backdrop__vFnbO",modal:"styles_modal__2ypNE",form:"styles_form__35WkX",input:"styles_input__2PV0Q",error:"styles_error__36mV2",image:"styles_image__11FlE",file:"styles_file__38Q9g"}},55:function(e,t,a){e.exports={container:"styles_container__4Nu-6",main:"styles_main__1s-dM",side:"styles_side__1Sb-a",mobile:"styles_mobile__36sqR",sideContent:"styles_sideContent__2RRNI","slide-in":"styles_slide-in__3o5Wp"}},56:function(e,t,a){e.exports={container:"styles_container__1o0Fe",logo:"styles_logo__-42WF",form:"styles_form__3iops",input:"styles_input__3SIu9",submit:"styles_submit__2tz8r",guest:"styles_guest__1fzKS",error:"styles_error__ZnYsY"}},67:function(e,t,a){e.exports={container:"styles_container__22UZb",title:"styles_title__Ej-Me",wrapper:"styles_wrapper__jOH-a",list:"styles_list__15TjS",description:"styles_description__2v6wa",logo:"styles_logo__6xdUQ"}},68:function(e,t,a){e.exports={backdrop:"styles_backdrop__3YpAz",modal:"styles_modal__3y1tw",form:"styles_form__V8Jh9",input:"styles_input__32pb9",error:"styles_error__YbLa9"}},79:function(e,t,a){e.exports={container:"styles_container__DqthX",wrapper:"styles_wrapper__tQxOT",title:"styles_title__3NY4r",iconButton:"styles_iconButton__3PNcZ",menu:"styles_menu__6okpy"}},80:function(e,t,a){e.exports={container:"styles_container__18Kjq",wrapper:"styles_wrapper__2Xr1l",group:"styles_group__2c-j8",tag:"styles_tag___JKYL",title:"styles_title__1CSj3"}},91:function(e,t,a){e.exports={container:"styles_container__82uG4",input:"styles_input__3eA4I",iconButton:"styles_iconButton__2vq75",send:"styles_send__3iZ-6"}},92:function(e,t,a){e.exports={container:"styles_container__1BDXC",input:"styles_input__pfyyU",iconButton:"styles_iconButton__EtfuS",search:"styles_search__2jlGM"}},93:function(e,t,a){e.exports={container:"styles_container__1LU86",wrapper:"styles_wrapper__iBB-9",title:"styles_title__3l4Z9",description:"styles_description__2OoUl"}}},[[373,1,2]]]);
//# sourceMappingURL=main.4447d5a2.chunk.js.map